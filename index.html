<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>çµå©šã¾ã§ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³</title>

<style>
:root{
  --bg:#f7efe8;
  --card:#ffffff;
  --text:#3b2f2f;
  --muted:#8b7d7b;
  --accent:#ff6fae;
}

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  background:
    radial-gradient(900px 600px at 20% 10%, #ffe3f2 0%, var(--bg) 55%, #eef7ff 100%);
  font-family: ui-rounded, system-ui, -apple-system, "Hiragino Sans","Noto Sans JP",sans-serif;
  color:var(--text);
  transition: background 1s ease;
}

body.celebrate{
  background:
    radial-gradient(900px 600px at 20% 10%, #fff1a8 0%, #ffe3f2 60%, #e0f7ff 100%);
}

.card{
  width:min(560px,92vw);
  background:var(--card);
  border-radius:28px;
  padding:30px 24px 34px;
  box-shadow:0 24px 60px rgba(0,0,0,.15);
  text-align:center;
}

h1{
  margin:0 0 16px;
  font-size:20px;
}

.flip{
  display:flex;
  justify-content:center;
  gap:12px;
  margin:20px 0 12px;
}

.flip span{
  font-size:52px;
  font-weight:700;
  background:#fff;
  border-radius:14px;
  padding:18px 20px;
  min-width:48px;
  box-shadow:0 10px 24px rgba(0,0,0,.18);
  animation: flip .6s ease;
}

@keyframes flip{
  from{transform:rotateX(90deg);opacity:0}
  to{transform:rotateX(0);opacity:1}
}

.sub{
  color:var(--muted);
  font-size:14px;
  margin-bottom:18px;
}

.pill{
  display:inline-flex;
  gap:8px;
  align-items:center;
  background:#fff;
  border:1px solid rgba(0,0,0,.1);
  padding:10px 16px;
  border-radius:999px;
  font-size:13px;
}

.big-finish{
  font-size:42px;
  font-weight:700;
  margin:10px 0 14px;
}

.confetti{
  position:fixed;
  inset:0;
  pointer-events:none;
  overflow:hidden;
}

.confetti span{
  position:absolute;
  top:-10px;
  font-size:24px;
  animation: fall 3s linear infinite;
}

@keyframes fall{
  to{ transform:translateY(110vh) rotate(360deg); }
}
</style>
</head>

<body>
<main class="card">
  <h1>çµå©šã¾ã§ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ ğŸ±</h1>

  <div id="countArea">
    <div class="flip" id="days"></div>
    <p class="sub">ã‚´ãƒ¼ãƒ«ï¼š2026å¹´12æœˆ31æ—¥</p>
  </div>

  <div class="pill" id="message"></div>
</main>

<div class="confetti" id="confetti"></div>

<script>
const GOAL = new Date(2026,11,31);
GOAL.setHours(12,0,0,0);

const messages = [
  "ä»Šæ—¥ã‚‚æœªæ¥ã«ä¸€æ­©ã™ã™ã‚“ã ã‚ˆï¼ ğŸ¾",
  "ç„¦ã‚‰ãªãã¦å¤§ä¸ˆå¤«ã€‚é€²ã‚“ã§ã‚‹ğŸ±",
  "ä»Šæ—¥ã¯ç©ã¿é‡ã­ã®æ—¥",
  "æœªæ¥ã®è‡ªåˆ†ãŒæ„Ÿè¬ã™ã‚‹ä¸€æ—¥âœ¨",
  "ä»Šæ—¥ã¯æº–å‚™ã€æ˜æ—¥ã¯å®Ÿè¡Œ",
  "ã¡ã‚ƒã‚“ã¨å‘ã‹ã£ã¦ã‚‹ã€‚ãã‚Œã§OK",
  "ã”è¤’ç¾ãŒã€è¿‘ã¥ã„ã¦ã‚‹ã«ã‚ƒğŸ’°"
];

function todayJST(){
  const now = new Date();
  const jst = new Date(now.toLocaleString("ja-JP",{timeZone:"Asia/Tokyo"}));
  jst.setHours(12,0,0,0);
  return jst;
}

function dailyMessage(){
  const seed = todayJST().toDateString();
  const index = [...seed].reduce((a,c)=>a+c.charCodeAt(0),0) % messages.length;
  document.getElementById("message").textContent =
    "à¸…^â€¢Ï‰â€¢^à¸… " + messages[index];
}

function celebrate(){
  document.body.classList.add("celebrate");
  document.getElementById("countArea").innerHTML =
    '<div class="big-finish">ğŸ‰ ä»Šæ—¥ã€çµå©š ğŸ‰</div>';

  const confetti = document.getElementById("confetti");
  confetti.innerHTML = "";
  for(let i=0;i<40;i++){
    const s = document.createElement("span");
    s.textContent = ["ğŸ‰","ğŸ’","âœ¨","ğŸ’"][Math.floor(Math.random()*4)];
    s.style.left = Math.random()*100 + "%";
    s.style.animationDelay = Math.random()*2 + "s";
    confetti.appendChild(s);
  }

  document.getElementById("message").textContent =
    "æœ¬å½“ã«ãŠã‚ã§ã¨ã†ã€‚ã“ã“ã¾ã§æ¥ãŸã«ã‚ƒã€‚";
}

function render(){
  const diff = Math.ceil((GOAL - todayJST()) / 86400000);

  if(diff <= 0){
    celebrate();
    return;
  }

  const container = document.getElementById("days");
  container.innerHTML = "";
  [...diff.toString()].forEach(n=>{
    const span = document.createElement("span");
    span.textContent = n;
    container.appendChild(span);
  });

  dailyMessage();
}

render();
setInterval(render,60000);
</script>
</body>
</html>
